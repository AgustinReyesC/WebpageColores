<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Actividades divertidas</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --ink: #1f2937;
      --bg1: #fff7db;
      --bg2: #ecf5ff;
      --ok: #198754;
      --bad: #dc3545;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Fredoka", sans-serif;
    }

    body {
      min-height: 100vh;
      color: var(--ink);
      background: linear-gradient(180deg, var(--bg1), var(--bg2));
      padding: 1rem;
    }

    .game-wrap {
      max-width: 880px;
      margin: 0 auto;
      background: #ffffffde;
      border: 2px solid #ffffff;
      border-radius: 20px;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.15);
      padding: 1rem;
      display: grid;
      gap: 0.9rem;
    }

    h1 {
      text-align: center;
      font-size: clamp(1.3rem, 4.5vw, 2rem);
    }

    .status {
      display: flex;
      justify-content: space-between;
      gap: 0.8rem;
      flex-wrap: wrap;
      background: #f8fafc;
      border-radius: 14px;
      padding: 0.7rem;
      font-size: clamp(1rem, 2.7vw, 1.1rem);
    }

    .target {
      text-align: center;
      background: #fff7ed;
      border-radius: 16px;
      padding: 1rem;
    }

    .target h2 {
      font-size: clamp(1.2rem, 3.8vw, 1.7rem);
      margin-bottom: 0.25rem;
    }

    .target-color {
      width: min(220px, 75%);
      height: 88px;
      margin: 0.6rem auto 0;
      border-radius: 16px;
      border: 4px solid #ffffff;
      box-shadow: inset 0 -8px 16px rgba(0, 0, 0, 0.18), 0 10px 18px rgba(15, 23, 42, 0.16);
    }

    .options {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.7rem;
    }

    .option-btn {
      border: 2px solid #e5e7eb;
      border-radius: 14px;
      min-height: 70px;
      color: #111827;
      font-size: clamp(1rem, 4vw, 1.2rem);
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.18s ease, box-shadow 0.18s ease;
      box-shadow: 0 8px 16px rgba(15, 23, 42, 0.12);
      background: #ffffff;
    }

    .option-btn:hover {
      transform: translateY(-2px);
    }

    .option-btn.correct {
      background: #22c55e;
      color: #ffffff;
      border-color: #16a34a;
    }

    .option-btn.wrong {
      background: #ef4444;
      color: #ffffff;
      border-color: #dc2626;
    }

    .feedback {
      min-height: 1.6rem;
      font-size: 1rem;
      text-align: center;
      color: #334155;
    }

    .controls {
      display: flex;
      justify-content: center;
    }

    .btn {
      border: none;
      border-radius: 999px;
      background: #ef476f;
      color: #ffffff;
      font-weight: 700;
      padding: 0.6rem 1rem;
      cursor: pointer;
    }

    @media (min-width: 600px) {
      .options {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }
  </style>
</head>
<body>
  <main class="game-wrap">
    <h1>Adivina el color</h1>

    <section class="status" aria-label="Estado del juego">
      <p id="lives">Vidas: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
      <p id="score">Puntos: 0</p>
      <p id="timer">Tiempo: 8s</p>
    </section>

    <section class="target" aria-label="Color objetivo">
      <h2>Selecciona el nombre de este color:</h2>
      <div class="target-color" id="targetColor" aria-label="Color objetivo"></div>
    </section>

    <section class="options" id="options" aria-label="Opciones de color"></section>

    <p class="feedback" id="feedback">Toca una opcion para empezar.</p>

    <div class="controls">
      <button class="btn" id="restartBtn" type="button">Reiniciar juego</button>
    </div>
  </main>

  <script>
    const COLORS = [
      { name: "Rojo", hex: "#ff4d4d" },
      { name: "Azul", hex: "#4d7cfe" },
      { name: "Verde", hex: "#30c56a" },
      { name: "Amarillo", hex: "#ffd93d" },
      { name: "Naranja", hex: "#ff8c42" },
      { name: "Morado", hex: "#9b5de5" }
    ];

    const optionsEl = document.getElementById("options");
    const targetEl = document.getElementById("targetColor");
    const feedbackEl = document.getElementById("feedback");
    const livesEl = document.getElementById("lives");
    const scoreEl = document.getElementById("score");
    const timerEl = document.getElementById("timer");
    const restartBtn = document.getElementById("restartBtn");

    let lives = 5;
    let score = 0;
    let target = null;
    let isGameOver = false;
    let locked = false;
    let roundSeconds = 8;
    let timerId = null;

    function shuffle(array) {
      const copy = [...array];
      for (let i = copy.length - 1; i > 0; i -= 1) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    }

    function drawLives() {
      livesEl.textContent = `Vidas: ${"‚ù§Ô∏è".repeat(lives)}${"ü§ç".repeat(5 - lives)}`;
    }

    function updateScore() {
      scoreEl.textContent = `Puntos: ${score}`;
    }

    function startTimer() {
      clearInterval(timerId);
      roundSeconds = 5;
      timerEl.textContent = `Tiempo: ${roundSeconds}s`;

      timerId = setInterval(() => {
        roundSeconds -= 1;
        timerEl.textContent = `Tiempo: ${roundSeconds}s`;

        if (roundSeconds <= 0) {
          clearInterval(timerId);
          if (!isGameOver && !locked) {
            failRound("Tiempo agotado.");
          }
        }
      }, 1000);
    }

    function pickRound() {
      const shuffled = shuffle(COLORS);
      const options = shuffled.slice(0, 3);
      target = options[Math.floor(Math.random() * options.length)];
      targetEl.style.background = target.hex;
      renderOptions(options);
      startTimer();
    }

    function renderOptions(options) {
      optionsEl.innerHTML = "";
      options.forEach((color) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.type = "button";
        btn.textContent = color.name;
        btn.addEventListener("click", () => onAnswer(color));
        optionsEl.appendChild(btn);
      });
    }

    function markButtons(selectedName) {
      const buttons = [...optionsEl.querySelectorAll(".option-btn")];
      buttons.forEach((btn) => {
        btn.disabled = true;
        if (btn.textContent === target.name) {
          btn.classList.add("correct");
        } else if (btn.textContent === selectedName) {
          btn.classList.add("wrong");
        }
      });
    }

    function failRound(reasonText) {
      locked = true;
      lives -= 1;
      drawLives();
      feedbackEl.textContent = `${reasonText} Era ${target.name}.`;
      feedbackEl.style.color = "#dc3545";
      markButtons("__none__");

      if (lives <= 0) {
        isGameOver = true;
        targetEl.style.background = "#e5e7eb";
        optionsEl.innerHTML = "";
        feedbackEl.textContent = "Te quedaste sin vidas. Presiona Reiniciar.";
        timerEl.textContent = "Tiempo: 0s";
        return;
      }

      setTimeout(() => {
        locked = false;
        pickRound();
      }, 900);
    }

    function onAnswer(selected) {
      if (isGameOver || locked) return;
      clearInterval(timerId);
      locked = true;

      if (selected.name === target.name) {
        score += 1;
        updateScore();
        feedbackEl.textContent = "Correcto! Muy bien!";
        feedbackEl.style.color = "#198754";
        markButtons(selected.name);
        setTimeout(() => {
          locked = false;
          pickRound();
        }, 700);
      } else {
        markButtons(selected.name);
        setTimeout(() => {
          locked = false;
          failRound("Ups!");
        }, 700);
      }
    }

    function restartGame() {
      clearInterval(timerId);
      lives = 5;
      score = 0;
      isGameOver = false;
      locked = false;
      drawLives();
      updateScore();
      feedbackEl.textContent = "Juego reiniciado. Vamos!";
      feedbackEl.style.color = "#334155";
      pickRound();
    }

    restartBtn.addEventListener("click", restartGame);

    drawLives();
    updateScore();
    pickRound();
  </script>
</body>
</html>
